<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE rfc SYSTEM "rfc2629.dtd">
<?rfc toc="yes" ?>
<?rfc tocompact="yes"?>
<?rfc tocdepth="4"?>
<?rfc tocindent="yes"?>
<?rfc symrefs="yes" ?>
<?rfc sortrefs="no"?>
<?rfc rfcedstyle="yes"?>
<?rfc subcompact="no"?>
<?rfc compact="yes" ?>
<?rfc iprnotified="Yes" ?>
<?rfc strict="no" ?>
<rfc category="std" docName="draft-ietf-pce-binding-label-sid-08"
     ipr="trust200902">
  <front>
    <title abbrev="Binding Label/SID">Carrying Binding Label/Segment Identifier in
    PCE-based Networks.</title>

    <author fullname="Siva Sivabalan" initials="S." surname="Sivabalan">
      <organization>Ciena Corporation</organization>

      <address>
        <postal>
          <street/>

          <city/>

          <region/>

          <code/>

          <country/>
        </postal>

        <email>msiva282@gmail.com</email>
      </address>
    </author>

    <author fullname="Clarence Filsfils" initials="C." surname="Filsfils">
      <organization>Cisco Systems, Inc.</organization>

      <address>
        <postal>
          <street>Pegasus Parc</street>

          <city>De kleetlaan 6a</city>

          <region>DIEGEM</region>

          <code>BRABANT 1831</code>

          <country>BELGIUM</country>
        </postal>

        <email>cfilsfil@cisco.com</email>
      </address>
    </author>

    <author fullname="Jeff Tantsura" initials="J." surname="Tantsura">
      <organization>Juniper Networks</organization>

      <address>
        <postal>
          <street/>

          <city/>

          <region/>

          <code/>

          <country/>
        </postal>

        <email>jefftant.ietf@gmail.com</email>
      </address>
    </author>

    <!--<author fullname="Jonathan Hardwick" initials="J." surname="Hardwick">
      <organization>Metaswitch Networks</organization>

      <address>
        <postal>
          <street>100 Church Street</street>

          <city>Enfield</city>

          <region>Middlesex</region>

          <country>UK</country>
        </postal>

        <email>Jonathan.Hardwick@metaswitch.com</email>
      </address>
    </author>-->

    <author fullname="Stefano Previdi" initials="S." surname="Previdi">
      <organization>Huawei Technologies</organization>

      <address>
        <postal>
          <street/>

          <city/>

          <region/>

          <code/>

          <country/>
        </postal>

        <email>stefano@previdi.net</email>
      </address>
    </author>

    <!--<author fullname="Dhruv Dhody" initials="D."  surname="Dhody">
   <organization>Huawei Technologies</organization>
      <address>
        <postal>
          <street>Divyashree Techno Park, Whitefield</street>
          <city>Bangalore</city>
          <region>Karnataka 560066</region>
          <country>India</country>
        </postal>
        <email>dhruv.ietf@gmail.com</email>
      </address>
    </author>-->

    <author fullname="Cheng Li" initials="C." surname="Li">
      <organization>Huawei Technologies</organization>

      <address>
        <postal>
          <street>Huawei Campus, No. 156 Beiqing Rd.</street>

          <city>Beijing</city>

          <region/>

          <code>100095</code>

          <country>China</country>
        </postal>

        <phone/>

        <facsimile/>

        <email>c.l@huawei.com</email>

        <uri/>
      </address>
    </author>

    <date day="14" month="April" year="2021"/>

    <area>Routing Area</area>

    <workgroup>PCE Working Group</workgroup>

    <abstract>
      <t>In order to provide greater scalability, network opacity, and service
      independence, Segment Routing (SR) utilizes a Binding Segment Identifier
      (BSID). It is possible to associate a BSID to an RSVP-TE signaled Traffic
      Engineering Label Switching Path or an SR
      Traffic Engineering path. The BSID can be used by an
      upstream node for steering traffic into the appropriate TE path to
      enforce SR policies. This document specifies the binding value as an MPLS label or Segment Identifier. It further specify an approach for reporting
      binding label/SID by a Path Computation Client (PCC) to the Path Computation Element (PCE) to support
      PCE-based Traffic Engineering policies.</t>
    </abstract>


  </front>

  <middle>
    <section anchor="Introduction" title="Introduction">
      <t>A Path Computation Element (PCE) can compute Traffic Engineering paths (TE paths) through a
      network where those paths are subject to various constraints. Currently, TE paths are
      either set up using the RSVP-TE signaling protocol or Segment Routing
      (SR). We refer to such paths as RSVP-TE paths and SR-TE paths
      respectively in this document.</t>

      <t>As per <xref target="RFC8402"/> SR allows a headend node to steer a
      packet flow along any path. The headend node is said to steer a flow
      into an Segment Routing Policy (SR Policy). Further, as per <xref
      target="I-D.ietf-spring-segment-routing-policy"/>, an SR Policy is a
      framework that enables instantiation of an ordered list of segments on a
      node for implementing a source routing policy with a specific intent for
      traffic steering from that node.</t>

      <t>As described in <xref target="RFC8402"/>, a Binding Segment Identifier
      (BSID) is bound to a Segment Routed (SR) Policy, instantiation of which
      may involve a list of SIDs. Any packets received with an active segment
      equal to a BSID are steered onto the bound SR Policy. A BSID may be either
      a local (SR Local Block (SRLB)) or a global (SR Global Block (SRGB))
      SID. As per Section 6.4 of <xref
      target="I-D.ietf-spring-segment-routing-policy"/> a BSID can also be
      associated with any type of interfaces or tunnel to enable the use of a
      non-SR interface or tunnel as a segment in a SID-list. In this document, binding label/SID is used to generalize the allocation of binding value for both SR and non-SR paths.</t>

      <!--<t>Similar to assigning label to a Forwarding Equivalence Class (FEC) via Label Distribution Protocol (LDP), a binding label can be assigned to a RSVP-TE LSP. If the topmost label of an incoming packet is the binding label, the packet is steered onto the RSVP-TE LSP.
  As such, any upstream node can use binding labels to steer the packets that it originates to appropriate TE LSPs to enforce TE/SR policy. Similarly, a binding SID, see <xref target="I-D.ietf-isis-segment-routing-extensions"/>, <xref target="I-D.ietf-idr-segment-routing-te-policy"/>
and <xref target="RFC8402"/> can be used to enforce SR policy with SR-TE path. Note that if an SR-TE path is represented as a forwarding-adjacency (FA), then the corresponding adjacency SID can be used as the binding SID. In such case, the path is advertised using the routing protocols as described in <xref target="RFC4206"/>. The binding SID provides an alternate mechanism without additional overhead on routing protocols.</t>-->

      <t><xref target="RFC5440"/> describes the Path Computation Element
      Protocol (PCEP) for communication between a Path Computation Client
      (PCC) and a PCE or between a pair of PCEs as per <xref
      target="RFC4655"/>. <xref target="RFC8231"/> specifies extensions to PCEP
      that allow a PCC to delegate its Label Switched Paths (LSPs) to a stateful PCE. A stateful PCE
      can then update the state of LSPs delegated to it. <xref
      target="RFC8281"/> specifies a mechanism allowing a PCE to dynamically
      instantiate an LSP on a PCC by sending the path and characteristics.</t>

      <t><xref target="RFC8664"/> provides a mechanism for a network
      controller (acting as a PCE) to instantiate SR-TE paths (candidate paths) for an SR
      Policy onto a head-end node (acting as a PCC) using PCEP. For more
      information on the SR Policy Architecture, see <xref
      target="I-D.ietf-spring-segment-routing-policy"/>.</t>

      <t>  
        A binding label/SID has local significance to the ingress node of the
      corresponding TE path. When a stateful PCE is deployed for setting up TE
      paths, it may be desirable for PCC to report the binding label/SID to the
      stateful PCE for the purpose of enforcing end-to-end TE/SR policy. A
      sample Data Center (DC) use-case is illustrated in the <xref target="figure1"/>. In the MPLS DC network, an SR LSP (without traffic engineering)
      is established using a prefix SID advertised by BGP (see <xref
      target="RFC8669"/>). In the IP/MPLS WAN, an SR-TE LSP is set up using the
      PCE. The list of SIDs of the SR-TE LSP is {A, B, C, D}. The gateway node
      1 (which is the PCC) allocates a binding SID X and reports it to the
      PCE. In order for the access node to steer the traffic over the SR-TE
      LSP, the PCE passes the SID stack {Y, X} where Y is the prefix SID of
      the gateway node-1 to the access node. In the absence of the binding SID
      X, the PCE should pass the SID stack {Y, A, B, C, D} to the access node.
      This example also illustrates the additional benefit of using the
      binding SID to reduce the number of SIDs imposed on the access nodes
      with a limited forwarding capacity.</t>

      <figure anchor="figure1"
              title="A sample Use-case of Binding SID">
        <artwork align="center"><![CDATA[

           SID stack
           {Y, X}              +-----+
    _ _ _ _ _ _ _ _ _ _ _ _ _ _| PCE |
   |                           +-----+
   |                              ^
   |                              | Binding
   |           .-----.            | SID (X)     .-----.
   |          (       )           |            (       )
   V       .--(         )--.      |        .--(         )--.
+------+  (                 )  +-------+  (                 )  +-------+
|Access|_(  MPLS DC Network  )_|Gateway|_(    IP/MPLS WAN    )_|Gateway|
| Node | (  ==============>  ) |Node-1 | ( ================> ) |Node-2 |
+------+  (     SR path     )  +-------+  (    SR-TE path   )  +-------+
           '--(         )--'    Prefix     '--(         )--'
               (       )        SID of         (       )
                '-----'         Node-1          '-----'
                                is Y            SIDs for SR-TE LSP:
                                                {A, B, C, D}


]]></artwork>
      </figure>

      <t>A PCC could report the binding label/SID allocated by it to the
      stateful PCE via Path Computation State Report (PCRpt) message. It is
      also possible for a stateful PCE to request a PCC to allocate a specific
      binding label/SID by sending a Path Computation Update Request (PCUpd)
      message. If the PCC can successfully allocate the specified binding
      value, it reports the binding value to the PCE. Otherwise, the PCC sends
      an error message to the PCE indicating the cause of the failure. A local
      policy or configuration at the PCC SHOULD dictate if the binding
      label/SID needs to be assigned.</t>

      <t>In this document, we introduce a new OPTIONAL TLV that a PCC can use
      in order to report the binding label/SID associated with a TE LSP, or a
      PCE to request a PCC to allocate a specific binding label/SID value.
      This TLV is intended for TE LSPs established using RSVP-TE, SR, or any
      other future method. Also, in the case of SR-TE LSPs, the TLV can carry
      a binding label (for SR-TE path with MPLS data-plane) or a binding
      IPv6 SID (e.g., IPv6 address for SR-TE paths with IPv6 data-plane).
      Throughout this document, the term "binding value" means either an MPLS label or SID.</t>

      <t>Additionally, to support the PCE based central controller <xref
      target="RFC8283"/> operation where the PCE would take responsibility for
      managing some part of the MPLS label space for each of the routers that
      it controls, the PCE could directly make the binding label/SID
      allocation and inform the PCC. See <xref target="PCECC"/> for
      details.</t>
    </section>

    <!-- Introduction -->
    <section title="Requirements Language">
      <t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
      "OPTIONAL" in this document are to be interpreted as described in BCP 14
      <xref target="RFC2119"/> <xref target="RFC8174"/> when, and only when,
      they appear in all capitals, as shown here.</t>
    </section>
    <section title="Terminology">
      <t>The following terminologies are used in this document: <list
          style="hanging">
          <t hangText="BSID:">Binding Segment Identifier.</t>

          <!--<t hangText="LER:">Label Edge Router.</t>-->

          <t hangText="LSP:">Label Switched Path.</t>

          <!--<t hangText="LSR:">Label Switching Router.</t>-->

          <t hangText="PCC:">Path Computation Client.</t>

          <t hangText="PCE:">Path Computation Element</t>

          <t hangText="PCEP:">Path Computation Element Protocol.</t>

          <t hangText="RSVP-TE:">Resource ReserVation Protocol-Traffic
          Engineering.</t>

          <t hangText="SID:">Segment Identifier.</t>

          <t hangText="SR:">Segment Routing.</t>

          <!--<t hangText="SRGB:">Segment Routing Global Block.</t>-->

          <!--<t hangText="SRLB:">Segment Routing Local Block.</t>-->

          <t hangText="TLV:">Type, Length, and Value.</t>
        </list></t>
    </section>

    <!-- Terminology -->

    <section anchor="TE-PATH-BINDING-TLV" title="Path Binding TLV">
      <t>The new optional TLV is called "TE-PATH-BINDING TLV" (whose format is
      shown in the <xref target="BINDING-LABEL-TLV-FORMAT"/>) is defined to carry the binding label/SID
      for a TE path. This TLV is associated with the LSP object specified in
      <xref target="RFC8231"/>. This TLV can also be carried in the PCEP-ERROR object <xref target="RFC5440"/> in case of error. Multiple instance of TE-PATH-BINDING TLVs MAY be present in the LSP and PCEP-ERROR object. The type of this TLV is 55 (early allocated by IANA). The length is variable.</t>

      <figure anchor="BINDING-LABEL-TLV-FORMAT" title="TE-PATH-BINDING TLV">
        <artwork align="center"><![CDATA[
   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |             Type              |             Length            |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |      BT       |    Flags      |            Reserved           |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  ~            Binding Value (variable length)                    ~
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

        ]]></artwork>
      </figure>

      <t>TE-PATH-BINDING TLV is a generic TLV such that it is able to carry binding label/SID (i.e. MPLS label or SRv6 SID). It is formatted
      according to the rules specified in <xref target="RFC5440"/>. The value portion of the TLV comprise of:</t>

      <t>Binding Type (BT): A one-octet field identifies the type of binding
      included in the TLV. This document specifies the following BT values:
      <list style="symbols">
          <t>BT = 0: The binding value is a 20-bit MPLS label value. The TLV is padded to 4-bytes alignment. The Length MUST be set to 7 and first 20 bits are used to encode the MPLS label value.</t>

          <t>BT = 1:  The binding value is a 32-bit MPLS label stack entry as per <xref target="RFC3032"/> with Label, TC <xref target="RFC5462"/>, S, and TTL values encoded. Note that the
          receiver MAY choose to override TC, S, and TTL values according to its
          local policy. The Length MUST be set to 8.</t>

          <t>BT = 2: The binding value is an SRv6 SID with a format of a 16
          octet IPv6 address, representing the binding SID for SRv6. The
          Length MUST be set to 20.</t>

          <t>BT = 3: The binding value is a 24 octet field, defined in <xref
          target="Behavior-Structure"/>, that contains the SRv6 SID as well as
          its Behavior and Structure. The Length MUST be set to 28.</t>
        </list></t>

      <t><xref target="IANA-TLV"/> defines the IANA registry used to
   maintain all these binding types as well as any future ones. Note that, multiple TE-PATH-BINDING TLVs with different Binding Types MAY be present for the same LSP.</t>  

      <t>Flags: 1 octet of flags. Following flag is defined in the new
      registry "TE-PATH-BINDING TLV Flag field" as described in <xref
      target="IANA-TLV"/>:</t>

<figure anchor="BINDING-LABEL-FLAGS" suppress-title="false" title="Flags">
        <artwork align="left"><![CDATA[

   0 1 2 3 4 5 6 7 
  +-+-+-+-+-+-+-+-+
  |R|             |
  +-+-+-+-+-+-+-+-+

      ]]></artwork>
      </figure>

      <t>where: <list style="symbols">
          <t>R (Removal - 1 bit): When set, the requesting PCEP peer requires
         the removal of the binding value for the LSP.  When unset,
         the PCEP peer indicates that the binding value is added or retained for the LSP. 
         This flag is used in the PCRpt and PCUpd messages.  It is ignored in
         other PCEP messages.</t>

          <t>The unassigned flags MUST be set to 0 while sending and ignored on
          receipt.</t>
        </list></t>

        <!--Currently no flags are defined. </t>-->

        <!--Following flags are defined in the new
      registry "TE-PATH-BINDING TLV Flag field" as described in <xref
      target="IANA-TLV"/>:</t>

      <figure anchor="BINDING-LABEL-FLAGS" suppress-title="false" title="Flags">
        <artwork align="left"><![CDATA[

   0 1 2 3 4 5 6 7 
  +-+-+-+-+-+-+-+-+
  |           |I|S|
  +-+-+-+-+-+-+-+-+

      ]]></artwork>
      </figure>

      <t>where: <list style="symbols">
          <t>S-Flag: This flag encodes the "Specified-BSID-only" behavior. It
          is used as described in Section 6.2.3 of <xref
          target="I-D.ietf-spring-segment-routing-policy"/>.</t>

          <t>I-Flag: This flag encodes the "Drop Upon Invalid" behavior. It is
          used as described in Section 8.2 of <xref
          target="I-D.ietf-spring-segment-routing-policy"/>.</t>

          <t>Unassigned bits MUST be set to 0 while sending and ignored on
          receipt.</t>
        </list></t>-->

      <t>Reserved: MUST be set to 0 while sending and ignored on receipt.</t>

      <t>Binding Value: A variable-length field, padded with trailing zeros to
      a 4-octet boundary. For the BT as 0, the 20 bits represent the MPLS
      label. For the BT as 1, the 32-bits represent the MPLS label stack entry as
      per <xref target="RFC3032"/>. For the BT as 2, the 128-bits represent
      the SRv6 SID. For the BT as 3, the Binding Value also contains the SRv6 Endpoint
      Behavior and SID Structure, defined in <xref
      target="Behavior-Structure"/>.</t>

      <section anchor="Behavior-Structure"
               title="SRv6 Endpoint Behavior and SID Structure">
        <t>This section specify the format of the Binding Value in the TE-PATH-BINDING TLV when the BT
        is set to 3 for the SRv6 Binding SIDs <xref
        target="RFC8986"/>, as shown in <xref target="SID-BEHAVIOR-AND-STRUCTURE"/>.</t>

        <figure anchor="SID-BEHAVIOR-AND-STRUCTURE"
                title="SRv6 Endpoint Behavior and SID Structure">
          <artwork align="center"><![CDATA[
   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                 SRv6 Binding SID (16 octets)                  |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |         Reserved              |      Endpoint Behavior        |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |    LB Length  |    LN Length  | Fun. Length   |  Arg. Length  |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

        ]]></artwork>
        </figure>

        <t>The Binding Value consist of:<list style="symbols">

        <t>SRv6 Binding SID: 16 octets. The 128-bits IPv6 address, representing the binding SID for SRv6.</t> 
        <t>Reserved: 2 octets. It MUST be set to 0 on transmit and ignored on
        receipt.</t>

        <t>Endpoint Behavior: 2 octets. The Endpoint Behavior code point for
        this SRv6 SID as per the IANA subregistry called "SRv6 Endpoint Behaviors", created by <xref
        target="RFC8986"/>. When the field is set with the
        value 0, the endpoint behavior is considered unknown.</t>

        <t>The following fields are used to advertise the length of
   each individual part of the SRv6 SID as defined in <xref target="RFC8986"/>:<list style="symbols">

        <t>LB Length: 1 octet. SRv6 SID Locator Block length in bits.</t>

        <t>LN Length: 1 octet. SRv6 SID Locator Node length in bits.</t>

        <t>Function Length: 1 octet. SRv6 SID Function length in bits.</t>

        <t>Argument Length: 1 octet. SRv6 SID Arguments length in bits.</t></list></t></list></t>
      </section>
    </section>

    <!-- Path-setup-type-tlv -->

    <section anchor="Operation" title="Operation">
      <t>The binding value is allocated by the PCC and reported to a PCE via
      PCRpt message. If a PCE does not recognize the TE-PATH-BINDING TLV, it
      would ignore the TLV in accordance with <xref target="RFC5440"/>. If a
      PCE recognizes the TLV but does not support the TLV, it MUST send PCErr
      with Error-Type = 2 (Capability not supported).</t>

      <t>Multiple TE-PATH-BINDING TLVs are allowed to be present in the same
      LSP object. This signifies the presence of multiple binding SIDs for the
      given LSP. In the case of multiple TE-PATH-BINDING TLVs, existing instances of TE-PATH-BINDING TLVs MAY be included in the LSP object. In case of an error condition, the whole message is rejected and the resulting PCErr message MAY include the offending TE-PATH-BINDING TLV in the PCEP-ERROR object.</t>

      <t>If a PCE
      recognizes an invalid binding value (e.g., label value from the reserved
      MPLS label space), it MUST send a PCErr
      message with Error-Type = 10 ("Reception of an invalid object") and
      Error Value = 2 ("Bad label value") as specified in <xref
      target="RFC8664"/>.</t>

       <t>For SRv6 BSIDs, it is RECOMMENDED to always explicitly specify the
   SRv6 Endpoint Behavior and SID Structure in the TE-PATH-BINDING TLV
   by setting the BT (Binding Type) to 3.  This enables the sender to have
   control of the SRv6 Endpoint Behavior and SID Structure.  A sender MAY
   choose to set the BT to 2, in which case the receiving implementation
   chooses how to interpret the SRv6 Endpoint Behavior and SID Structure
   according to local policy.</t>

      <t>If a PCC wishes to withdraw a previously reported binding value, 
        it MUST send a PCRpt message with the specific TE-PATH-BINDING TLV with R flag set to 1. If a PCC wishes to modify 
        a previously reported binding, it MUST withdraw the old binding value (with R flag set in the old TE-PATH-BINDING TLV) and include a new 
        TE-PATH-BINDING TLV containing the new binding value. Note that, other instances of TE-PATH-BINDING TLVs that are unchanged MAY also be included.</t>





      <t>If a PCE requires a PCC to allocate a specific binding value(s), it may
      do so by sending a PCUpd or PCInitiate message containing a
      TE-PATH-BINDING TLV(s). If the value(s) can be successfully allocated, the PCC
      reports the binding value(s) to the PCE. If the PCC considers the binding
      value specified by the PCE invalid, it MUST send a PCErr message with
      Error-Type = TBD2 ("Binding label/SID failure") and Error Value = TBD3
      ("Invalid SID"). If the binding value is valid, but the PCC is unable to
      allocate the binding value, it MUST send a PCErr message with Error-Type
      = TBD2 ("Binding label/SID failure") and Error Value = TBD4 ("Unable to allocate the specified binding value"). Note that in case of an error, the PCC rejects the PCUpd or PCInitiate message in its entirety and can carry the offending TE-PATH-BINDING TLV in the PCEP-ERROR object.</t>






      <t>If a PCE wishes to request withdrawal of a previously reported binding value, it MUST send a PCUpd message with the specific TE-PATH-BINDING TLV with R flag set to 1. If a PCE wishes to modify a previously requested binding value, it
      MUST request withdrawal of the old binding value (with R flag set in the old TE-PATH-BINDING TLV) and include a new TE-PATH-BINDING TLV containing the new binding value. </t>


  <!--<t>If a PCC wishes to withdraw all previously reported binding values, it 
   MUST send a PCRpt message without any TE-PATH-BINDING TLV.  If a
   PCC wishes to modify any or all previously reported binding values, it
   MUST send a PCRpt message containing TE-PATH-BINDING TLVs
   containing all the binding values that apply from that point on.</t>

   <t>If a PCE wishes to modify a previously requested binding value, it 
   MUST send a PCUpd message with TE-PATH-BINDING TLVs containing
   all the binding values that apply from that point on.  The absence of
   TE-PATH-BINDING TLV in PCUpd message means that the PCE does
   not specify a binding value. Any previously allocated binding values are considered to be requested to be withdrawn by the PCE.</t>-->



      <!--<t>The absence of TE-PATH-BINDING TLV in PCUpd message means
      that the PCE does not specify a binding value in which case any previous allocated binding values are withdraw.</t>-->

      <!--<t>If a PCC receives a new valid binding value from the PCE, it MUST try to allocate the new binding value. 
        If a PCC does not receive an old binding value for the PCE, it MUST withdraw the old binding value. 
      If the new binding value is successfully allocated, the PCC MUST report
      the new value to the PCE. Otherwise, it MUST send a PCErr message with
      Error-Type = TBD2 ("Binding label/SID failure") and Error Value = TBD4
      ("Unable to allocate the specified binding value"). Note that, all instances of TE-PATH-BINDING TLV that remains unchanged are always included in the LSP object and the offending TE-PATH-BINDING TLV is included in the PCEP-ERROR object.</t>-->

      <t>In some cases, a stateful PCE can request the PCC to allocate any
      binding value. It instructs the PCC by sending a PCUpd message containing an
      empty TE-PATH-BINDING TLV, i.e., no binding value is specified (making
      the length field of the TLV as 4). A PCE can also request PCC to
      allocate a binding value at the time of initiation by sending a
      PCInitiate message with an empty TE-PATH-BINDING TLV. Only one such instance of empty TE-PATH-BINDING TLV SHOULD be included in the LSP object and others ignored on receipt. If the PCC is
      unable to allocate a new binding value as per the specified BT, it MUST send a PCErr message with
      Error-Type = TBD2 ("Binding label/SID failure") and Error-Value = TBD5
      ("Unable to allocate a new binding label/SID"). </t>

      <t>As previously noted, if a message contains an invalid TE-PATH-BINDING TLV that leads to an error condition, the whole message is rejected including any other valid instances of TE-PATH-BINDING TLVs, if any. The resulting error message MAY include the offending TE-PATH-BINDING TLV in the PCEP-ERROR object.</t> 
      
      <t>If a PCC receives a TE-PATH-BINDING TLV in any message other than PCUpd
      or PCInitiate, it MUST close the corresponding PCEP session with the
      reason "Reception of a malformed PCEP message" (according to <xref
      target="RFC5440"/>). Similarly, if a PCE receives a TE-PATH-BINDING TLV
      in any message other than a PCRpt or if the TE-PATH-BINDING TLV is
      associated with any object other than an LSP or PCEP-ERROR object, the PCE MUST close the
      corresponding PCEP session with the reason "Reception of a malformed
      PCEP message" (according to <xref target="RFC5440"/>).</t>

      <t>If a TE-PATH-BINDING TLV is absent in the PCRpt message and no binding values were reported before, the PCE MUST 
      assume that the corresponding LSP does not have any binding. Similarly, if TE-PATH-BINDING TLV is absent in the PCUpd message and no binding values were reported before, the PCC's local policy dictates how the  binding allocations are made for a given LSP.</t>



    </section>

    <section anchor="SR-ERO" title="Binding SID in SR-ERO">
      <t>In PCEP messages, LSP route information is carried in the Explicit
      Route Object (ERO), which consists of a sequence of subobjects. <xref
      target="RFC8664"/> defines a new ERO subobject "SR-ERO subobject"
      capable of carrying a SID as well as the identity of the node/adjacency
      (NAI) represented by the SID. The NAI Type (NT) field indicates the type
      and format of the NAI contained in the SR-ERO. In case of binding SID,
      the NAI MUST NOT be included and NT MUST be set to zero. So as per
      Section 5.2.1 of <xref target="RFC8664"/>, for NT=0, the F bit is set to
      1, the S bit needs to be zero and the Length is 8. Further, the M bit is
      set. If these conditions are not met, the entire ERO MUST be considered
      invalid and a PCErr message is sent by the PCC with Error-Type = 10 ("Reception of
      an invalid object") and Error-Value = 11 ("Malformed object").</t>
    </section>

    <section anchor="SRv6-ERO" title="Binding SID in SRv6-ERO">
      <t><xref target="I-D.ietf-pce-segment-routing-ipv6"/> defines a new ERO subobject "SRv6-ERO
      subobject" for an SRv6 SID. As stated in <xref target="SR-ERO"/>, in case of binding SID, the NAI is not included and NT is set
      to zero i.e., NT=0, the F bit is set to 1, the S bit needs to be zero and the Length is 24 <xref target="I-D.ietf-pce-segment-routing-ipv6"/>.
      As per <xref target="RFC8664"/>, if these conditions are not met, the entire ERO is considered invalid
      and a PCErr message is sent by the PCC with Error-Type = 10 ("Reception of an
      invalid object") and Error-Value = 11 ("Malformed object").</t>
    </section>

    <section anchor="PCECC" title="PCE Allocation of Binding label/SID"
             toc="default">
      <t><xref target="Operation"/> already includes the scenario where a PCE
      requires a PCC to allocate a specified binding value by sending a PCUpd
      or PCInitiate message containing a TE-PATH-BINDING TLV. This section
      specifies an OPTIONAL feature for the PCE to allocate the binding label/SID on
      its own accord in the case where the PCE also controls the label space
      of the PCC and can make the label allocation on its own as described in
      <xref target="RFC8283"/>. Note that the act of requesting a specific
      binding value (<xref target="Operation"/>) is different from the act of
      allocating a binding label/SID as described in this section.</t>

      <t><xref target="RFC8283"/> introduces the architecture for PCE as a
      central controller as an extension of the architecture described in
      <xref target="RFC4655"/> and assumes the continued use of PCEP as the
      protocol used between PCE and PCC. <xref
      target="I-D.ietf-pce-pcep-extension-for-pce-controller"/> specifies the
      procedures and PCEP extensions for using the PCE as the central
      controller.</t>

      <t>For an implementation that supports PCECC operations as per <xref
      target="I-D.ietf-pce-pcep-extension-for-pce-controller"/>, the binding
      label/SID MAY also be allocated by the PCE itself. Both peers need to
      exchange the PCECC capability as described in <xref
      target="I-D.ietf-pce-pcep-extension-for-pce-controller"/> before the PCE
      can allocate the binding label/SID on its own.</t>

      <t>A new P flag in the LSP object <xref target="RFC8231"/> is introduced
      to indicate the allocation needs to be made by the PCE: <list
          style="symbols">
          <t>P (PCE-allocated binding label/SID): If the bit is set to
          1, it indicates that the PCC requests PCE to make allocations for
          this LSP. The TE-PATH-BINDING TLV in the LSP object identifies that the allocation is for binding label/SID. A PCC would set this bit to 1 and include
          a TE-PATH-BINDING TLV in the LSP object to request for allocation of
          binding label/SID by the PCE in the PCEP message. A PCE would also
          set this bit to 1 and include a TE-PATH-BINDING TLV to indicate that
          the binding label/SID is allocated by PCE and encoded in the PCEP
          message towards PCC. Further, a PCE would set this bit to 0 and
          include a TE-PATH-BINDING TLV in the LSP object to indicate that the
          binding label/SID should be allocated by the PCC as described in
          <xref target="Operation"/>.</t>
        </list></t>

      <t>Note that - <list style="symbols">
          <t>A PCE could allocate the binding label/SID on its own accord for
          a PCE-initiated or delegated LSP, and inform the PCC in the
          PCInitiate message or PCUpd message by setting P=1 and including
          TE-PATH-BINDING TLV in the LSP object.</t>

          <t>To let the PCC allocates the binding label/SID, a PCE could set
          P=0 and include an empty TE-PATH-BINDING TLV ( i.e., no binding value is
          specified) in the LSP object in PCInitiate/PCUpd message.</t>

          <t>A PCC could request that the PCE allocate the binding label/SID
          by setting P=1, D=1, and including an empty TE-PATH-BINDING TLV in PCRpt message.
          The PCE would allocate it and respond to the PCC with PCUpd message
          including the allocated binding label/SID in the TE-PATH-BINDING TLV
          and P=1, D=1 in the LSP object.</t>

          <t>If both peers have not exchanged the PCECC capabilities as per
          <xref target="I-D.ietf-pce-pcep-extension-for-pce-controller"/> and
          a PCEP peer receives P=1 in the LSP object, it needs to act as per <xref
          target="I-D.ietf-pce-pcep-extension-for-pce-controller"/>: <list
              style="symbols">
              <t>Send a PCErr message with Error-Type=19 (Invalid Operation)
              and Error-Value=16 (Attempted PCECC operations when PCECC
              capability was not advertised)</t>

              <t>Terminate the PCEP session</t>
            </list></t>
        </list></t>

      <t>It is assumed that the label range to be used by a PCE is known and
      set on both PCEP peers. The exact mechanism is out of scope of <xref
      target="I-D.ietf-pce-pcep-extension-for-pce-controller"/> or this
      document. Note that the specific BSID could be from the PCE-controlled
      or the PCC-controlled label space. The PCE can directly allocate the label
      from the PCE-controlled label space using P=1 as described above,
      whereas the PCE can request for the allocation of a specific BSID from the
      PCC-controlled label space with P=0 as described in <xref
      target="Operation"/>.</t>

      <!--<t>A PCC would set this bit to 1 (and carry the TE-PATH-BINDING TLV <xref target="I-D.ietf-pce-binding-label-sid"/> in the LSP object) to request for
      allocation of the binding label by the PCE in the PCReq or PCRpt
      message.  A PCE would also set this bit to 1 to indicate that the
      binding label is allocated by PCE and encoded in the PCRep,
      PCUpd, or PCInitiate message (the TE-PATH-BINDING TLV is present in
      LSP object).  Further, a PCE would set this bit to 0 to indicate
      that the allocation is done by the PCC instead.</t>-->

      <!--<t>The ingress PCC could request the binding label to be allocated by the PCE
   via a PCRpt message as per <xref target="RFC8231"/>.  The delegate flag (D-flag) MUST
   also be set for this LSP.  The TE-PATH-BINDING TLV MUST be included with no Binding
   Value. The PCECC would allocate the binding label and further respond to
   ingress PCC with PCUpd message as per <xref target="RFC8231"/> and MUST include the
   TE-PATH-BINDING TLV in an LSP object.  The P flag in the LSP object would be set to 1 to indicate that the allocation is made by the PCE.</t>-->

      <!--<t>The PCE could allocate the binding label on its own accord for a PCE-
   Initiated (or delegated) LSP.  The allocated binding label needs to be
   informed to the PCC.  The PCE would use the
   PCInitiate message <xref target="RFC8281"/> or PCUpd message <xref target="RFC8231"/> towards the
   PCC and MUST include the TE-PATH-BINDING TLV in the LSP object. The P flag in the LSP object would be set to 1 to indicate that the allocation is made by the PCE.</t>  -->

      <!--<t>Before a PCE can allocate a binding label the PCECC capability MUST be exchanged on the PCEP session. Note that the CCI object is not used for binding allocation; this is done to maintain consistency with the rest of the binding label/SID procedures as per <xref target="I-D.ietf-pce-binding-label-sid"/>.</t>-->
    </section>

    <section anchor="Imp" title="Implementation Status">
      <t>[Note to the RFC Editor - remove this section before publication, as
      well as remove the reference to RFC 7942.]</t>

      <t>This section records the status of known implementations of the
      protocol defined by this specification at the time of posting of this
      Internet-Draft, and is based on a proposal described in <xref
      target="RFC7942"/>. The description of implementations in this section
      is intended to assist the IETF in its decision processes in progressing
      drafts to RFCs. Please note that the listing of any individual
      implementation here does not imply endorsement by the IETF. Furthermore,
      no effort has been spent to verify the information presented here that
      was supplied by IETF contributors. This is not intended as, and must not
      be construed to be, a catalog of available implementations or their
      features. Readers are advised to note that other implementations may
      exist.</t>

      <t>According to <xref target="RFC7942"/>, "this will allow reviewers and
      working groups to assign due consideration to documents that have the
      benefit of running code, which may serve as evidence of valuable
      experimentation and feedback that have made the implemented protocols
      more mature. It is up to the individual working groups to use this
      information as they see fit".</t>

      <section anchor="Huawei" title="Huawei">
        <t><list style="symbols">
            <t>Organization: Huawei</t>

            <t>Implementation: Huawei's Router and Controller</t>

            <t>Description: An experimental code-point is used and plan to
            request early code-point allocation from IANA after WG
            adoption.</t>

            <t>Maturity Level: Production</t>

            <t>Coverage: Full</t>

            <t>Contact: chengli13@huawei.com</t>
          </list></t>
      </section>

      <section anchor="Cisco" title="Cisco">
        <t><list style="symbols">
            <t>Organization: Cisco Systems</t>

            <t>Implementation: Head-end and controller.</t>

            <t>Description: An experimental code-point is currently used.</t>

            <t>Maturity Level: Production</t>

            <t>Coverage: Full</t>

            <t>Contact: mkoldych@cisco.com</t>
          </list></t>
      </section>
    </section>

    <section anchor="Security" title="Security Considerations">
      <t>The security considerations described in <xref target="RFC5440"/>,
      <xref target="RFC8231"/>, <xref target="RFC8281"/> and <xref
      target="RFC8664"/> are applicable to this specification. No additional
      security measure is required.</t>

      <t>As described <xref target="RFC8664"/>, SR allows a network controller
      to instantiate and control paths in the network. A rogue PCE can
      manipulate binding SID allocations to move traffic around for some other
      LSP that uses BSID in its SR-ERO.</t>

      <t>Thus, as per <xref target="RFC8231"/>, it is RECOMMENDED that these
      PCEP extensions only be activated on authenticated and encrypted
      sessions across PCEs and PCCs belonging to the same administrative
      authority, using Transport Layer Security (TLS) <xref
      target="RFC8253"/>, as per the recommendations and best current
      practices in BCP195 <xref target="RFC7525"/> (unless explicitly set
      aside in <xref target="RFC8253"/>).</t>
    </section>

    <section title="Manageability Considerations" toc="default">
      <t>All manageability requirements and considerations listed in <xref
      format="default" pageno="false" target="RFC5440"/>, <xref
      format="default" pageno="false" target="RFC8231"/>, and <xref
      target="RFC8664"/> apply to PCEP protocol extensions defined in this
      document. In addition, requirements and considerations listed in this
      section apply.</t>

      <section title="Control of Function and Policy" toc="default">
        <t>A PCC implementation SHOULD allow the operator to configure the
        policy based on which PCC needs to allocates the binding
        label/SID.</t>
      </section>

      <section title="Information and Data Models" toc="default">
        <t>The PCEP YANG module <xref target="I-D.ietf-pce-pcep-yang"/> could
        be extended to include policy configuration for binding label/SID
        allocation.</t>
      </section>

      <section title="Liveness Detection and Monitoring" toc="default">
        <t>Mechanisms defined in this document do not imply any new liveness
        detection and monitoring requirements in addition to those already
        listed in <xref format="default" pageno="false"
        target="RFC5440"/>.</t>
      </section>

      <section title="Verify Correct Operations" toc="default">
        <t>Mechanisms defined in this document do not imply any new operation
        verification requirements in addition to those already listed in <xref
        format="default" pageno="false" target="RFC5440"/>, <xref
        format="default" pageno="false" target="RFC8231"/>, and <xref
        target="RFC8664"/>.</t>
      </section>

      <section title="Requirements On Other Protocols" toc="default">
        <t>Mechanisms defined in this document do not imply any new
        requirements on other protocols.</t>
      </section>

      <section title="Impact On Network Operations" toc="default">
        <t>Mechanisms defined in <xref format="default" pageno="false"
        target="RFC5440"/>, <xref format="default" pageno="false"
        target="RFC8231"/>, and <xref target="RFC8664"/> also apply to PCEP
        extensions defined in this document. Further, the mechanism described
        in this document can help the operator to request control of the LSPs
        at a particular PCE.</t>
      </section>
    </section>

    <section anchor="IANA" title="IANA Considerations">
      <t>IANA maintains the "Path Computation Element Protocol (PCEP) Numbers"
      registry. This document requests IANA actions to allocate code points
      for the protocol elements defined in this document.</t>

      <section anchor="TLV" title="PCEP TLV Type Indicators">
        <t>This document defines a new PCEP TLV; IANA is requested to confirm the
        following early allocations from the "PCEP TLV Type Indicators" subregistry
        of the PCEP Numbers registry, as follows:</t>

        <texttable anchor="TLV-Type" style="none" suppress-title="true">
          <ttcol align="center" width="15%">Value</ttcol>

          <ttcol align="left" width="30%">Description</ttcol>

          <ttcol align="left" width="55%">Reference</ttcol>

          <c/>

          <c>&nbsp;</c>

          <c/>

          <c>55</c>

          <c>TE-PATH-BINDING</c>

          <c>This document</c>
        </texttable>

        <section anchor="IANA-TLV" title="TE-PATH-BINDING TLV ">
          <t>IANA is requested to create a new subregistry "TE-PATH-BINDING
          TLV BT field" to manage the value of the Binding Type field in the
          TE-PATH-BINDING TLV. Initial values for the subregistry are given
          below. New values are assigned by Standards Action <xref
          target="RFC8126"/>.</t>

          <texttable anchor="BT" style="none" suppress-title="true">
            <ttcol align="center" width="15%">Value</ttcol>

            <ttcol align="left" width="30%">Description</ttcol>

            <ttcol align="left" width="55%">Reference</ttcol>

            <c/>

            <c>&nbsp;</c>

            <c/>

            <c>0</c>

            <c>MPLS Label</c>

            <c>This document</c>

            <c>1</c>

            <c>MPLS Label Stack Entry</c>

            <c>This document</c>

            <c>2</c>

            <c>SRv6 SID</c>

            <c>This document</c>

            <c>3</c>

            <c>SRv6 SID with Behavior and Structure</c>

            <c>This document</c>
            
            <c>4-255</c>
            <c>Unassigned</c>
            <c>This document</c>
          </texttable>

          <t>IANA is requested to create a new subregistry "TE-PATH-BINDING
          TLV Flag field" to manage the Flag field in the TE-PATH-BINDING TLV.
          New values are to be assigned by Standards Action <xref
          target="RFC8126"/>. Each bit should be tracked with the following
          qualities:</t>

          <t><list style="symbols">
              <t>Bit number (count from 0 as the most significant bit)</t>

              <t>Description</t>

              <t>Reference</t>
            </list></t>

          <texttable anchor="BF" style="none" suppress-title="true">
            <ttcol align="center" width="15%">Bit</ttcol>

            <ttcol align="left" width="30%">Description</ttcol>

            <ttcol align="left" width="55%">Reference</ttcol>

            <c/>

            <c>&nbsp;</c>

            <c/>

            <!--<c>7</c>

            <c>Specified-BSID-Only Flag (S-Flag)</c>

            <c>This document</c>

            <c>6</c>

            <c>Drop Upon Invalid Flag (I-Flag)</c>

            <c>This document</c>-->
            <c>0</c>

            <c>R (Removal)</c>

            <c>This document</c>
           <c>1-7</c>
           <c>Unassigned</c>
           <c>This document</c>            
          </texttable>
        </section>
      </section>

      <section anchor="LSP" title="LSP Object">
        <t>IANA is requested to confirm the early allocation for a new code-point in the "LSP Object
        Flag Field" sub-registry for the new P flag as follows:</t>

        <texttable anchor="LSP-Flag" style="none" suppress-title="true">
          <ttcol align="center" width="15%">Bit</ttcol>

          <ttcol align="left" width="30%">Description</ttcol>

          <ttcol align="left" width="55%">Reference</ttcol>

          <c/>

          <c>&nbsp;</c>

          <c/>

          <c>0</c>

          <c>PCE-allocated binding label/SID</c>

          <c>This document</c>
        </texttable>
      </section>

      <section anchor="Error-Type" title="PCEP Error Type and Value">
        <t>This document defines a new Error-type and Error-Values for the
        PCErr message. IANA is requested to allocate new error-type and
        error-values within the "PCEP-ERROR Object Error Types and Values"
        subregistry of the PCEP Numbers registry, as follows:</t>

        <texttable anchor="Error" style="none" suppress-title="true">
          <ttcol align="center" width="10%">Error-Type</ttcol>

          <ttcol align="left" width="30%">Meaning</ttcol>

          <ttcol align="left" width="50%">Error-value</ttcol>

          <ttcol align="left" width="10%">Reference</ttcol>

          <c/>

          <c>&nbsp;</c>

          <c/>

          <c/>

          <c>TBD2</c>

          <c>Binding label/SID failure</c>

          <c>&nbsp;</c>

          <c>This document</c>

          <c>&nbsp;</c>

          <c>&nbsp;</c>

          <c>TBD3: Invalid SID</c>

          <c>This document</c>

          <c>&nbsp;</c>

          <c>&nbsp;</c>

          <c>TBD4: Unable to allocate the specified binding value</c>

          <c>This document</c>

          <c>&nbsp;</c>

          <c>&nbsp;</c>

          <c>TBD5: Unable to allocate a new binding label/SID</c>

          <c>This document</c>
        </texttable>
      </section>
    </section>

    <section anchor="Acknowledgement" title="Acknowledgements">
      <t>We like to thank Milos Fabian, Mrinmoy Das, Andrew Stone, Tom Petch, Aijun Wang, Olivier Dugeon,  and Adrian Farrel for their valuable comments.</t>
    </section>
  </middle>

  <back>
    <references title="Normative References">
      <?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.2119.xml"?>

      <?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.3032.xml"?>

      <?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.5440.xml"?>

      <?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.5462.xml"?>

      <?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.7525.xml"?>

      <?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.7942.xml"?>

      <?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.8174.xml"?>

      <?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.8231.xml"?>

      <?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.8253.xml"?>

      <?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.8281.xml"?>

      <?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.8402.xml"?>

      <?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.8664.xml"?>

      <?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.8126.xml"?>

      <?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.8986.xml"?>

      <?rfc include="reference.I-D.ietf-pce-pcep-extension-for-pce-controller"?>
    </references>

    <references title="Informative References">
      <!--<?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.4206.xml"?>-->

      <?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.4655.xml"?>

      <?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.8283.xml"?>

      <?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.8669.xml"?>

      <?rfc include="http://xml.resource.org/public/rfc/bibxml3/reference.I-D.ietf-spring-segment-routing-policy"?>

      <!--<?rfc include="http://xml.resource.org/public/rfc/bibxml3/reference.I-D.ietf-idr-segment-routing-te-policy"?>-->

      <!--<?rfc include="http://xml.resource.org/public/rfc/bibxml3/reference.I-D.ietf-isis-segment-routing-extensions"?>-->

      <!--<?rfc include="http://xml.resource.org/public/rfc/bibxml3/reference.I-D.ietf-pce-pcep-extension-for-pce-controller"?>-->

      <?rfc include="http://xml.resource.org/public/rfc/bibxml3/reference.I-D.ietf-pce-pcep-yang"?>
      <?rfc include="http://xml.resource.org/public/rfc/bibxml3/reference.I-D.ietf-pce-segment-routing-ipv6"?>
    </references>

    <!--<section anchor="sec_pcecc" title="PCE based Central Controller">
  <t><xref target="RFC8283"/> introduces the architecture for PCE as a central controller
   as an extension of the architecture described in <xref target="RFC4655"/> and
   assumes the continued use of PCEP as the protocol used between PCE
   and PCC.  <xref target="RFC8283"/>  further examines the motivations and
   applicability for PCEP as a Southbound Interface (SBI), and
   introduces the implications for the protocol.</t>
   <t>As per <xref target="RFC8283"/>, PCE as a central controller can allocate and
   provision the node/prefix/adjacency label (SID) via PCEP. It can also be used to allocate the binding SID as described in this section.</t> 


   <t>The PCECC Capability as per
   <xref target="I-D.zhao-pce-pcep-extension-pce-controller-sr"/> should also be
   advertised on the PCEP session, along with the SR sub-TLVs before using this procedure.</t>

   <t>A P flag in LSP object is introduced in <xref target="I-D.li-pce-sr-path-segment"/> to indicate the allocation needs to be made by the PCE. The same flag is also set for the binding SID allocation request. A PCC would set this bit to 1 to request for
      allocation of the binding label/SID by the PCE in the PCReq or PCRpt
      message.  A PCE would also set this bit to 1 to indicate that the
      binding label/SID is allocated by PCE and encoded in the PCRep,
      PCUpd or PCInitiate message (the TE-PATH-BINDING TLV is present in
      LSP object).  Further, a PCE would set this bit to 0 to indicate
      that the path identifier is allocated by the PCC as described above.</t>

   <t>The ingress PCC could request the binding label/SID to be allocated by the PCE
   via PCRpt message as per <xref target="RFC8231"/>.  The delegate flag (D-flag) MUST
   also be set for this LSP.  The TE-PATH-BINDING TLV MAY be included with no Binding
   Value. The PCECC would allocated the binding label/SID and further respond to
   Ingress PCC with PCUpd message as per <xref target="RFC8231"/> and MUST include the
   TE-PATH-BINDING TLV in a LSP object.  The P flag in the LSP object would be set to 1 to indicate that the allocation is made by the PCE.</t>

   <t>The PCE could allocate the binding label/SID on its own accord for a PCE-
   Initiated (or delegated LSP).  The allocated binding label/SID needs to be
   informed to the PCC.  The PCE would use the
   PCInitiate message <xref target="RFC8281"/> or PCUpd message <xref target="RFC8231"/> towards the
   PCC and MUST include the TE-PATH-BINDING TLV in the LSP object. The P flag in the LSP object would be set to 1 to indicate that the allocation is made by the PCE.</t>  

 </section> -->

    <section title="Contributor Addresses" toc="default">
      <t><figure align="left" alt="" height="" suppress-title="false" title=""
          width="">
          <artwork align="left" alt="" height="" name="" type="" width=""
                   xml:space="preserve"><![CDATA[
Jonathan Hardwick
Metaswitch Networks
33 Genotin Road
Enfield
United Kingdom

EMail: Jonathan.Hardwick@metaswitch.com


Dhruv Dhody
Huawei Technologies
Divyashree Techno Park, Whitefield
Bangalore, Karnataka  560066
India

EMail: dhruv.ietf@gmail.com

Mahendra Singh Negi
RtBrick India
N-17L, Floor-1, 18th Cross Rd, HSR Layout Sector-3
Bangalore, Karnataka  560102
India

EMail: mahend.ietf@gmail.com

Mike Koldychev
Cisco Systems, Inc.
2000 Innovation Drive
Kanata, Ontario  K2K 3E8
Canada

Email: mkoldych@cisco.com

Zafar Ali
Cisco Systems, Inc.

Email: zali@cisco.com
        ]]></artwork>
        </figure></t>
    </section>
  </back>
</rfc>
